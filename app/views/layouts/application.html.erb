<!DOCTYPE html>
<html>
  <head>
    <title>UM</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  </head>

  <body>
      <%= render partial: '/layouts/nav' %>

      <% if notice %>
        <p class="alert alert-success"><%= notice %></p>
      <% end %>
      <% if alert %>
        <p class="alert alert-danger"><%= alert %></p>
      <% end %>

      <p class="navbar-text pull-right">

<!-- Sign Up & Sign In Modal -->
      <div class="modal fade signupModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" >
        <div class="modal-dialog modal-dialog-lg">
<!--  Sign Up Content-->
            <div class="modal-content sign_up_content">
              <div style="margin: 10px 15px 0px 15px;">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true" >&times;</span>
                </button>
                <div class="header">
                  <p class="title-signup">Sign up with email</p>
                  <p class="subtitle-signup">Enter your particulars for your account, and we'll send a verification link to your inbox.</p>
                </div>
              </div>
              <div class="modal-body">
                <div class="container-fluid">
                  <%= render(template: "devise/registrations/new")%>
                </div>
                <div class="col">
                  <%= render "devise/shared/links" %>
                </div>
                <a class="nav-link light sign_in_link" style="padding: 0 16px" href="">Already a member? Sign in here</a>
              </div>
            </div>

<!--  Sign In Options-->
            <div class="modal-content sign_in_options">
              <div style="margin: 10px 15px 0px 15px;">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true" >&times;</span>
                </button>
                <div class="header">
                  <p class="title-signup">Welcome back</p>
                  <p class="subtitle-signup">Sign in to access share stories, like articles and leave your thoughts that matters to you.</p>
                </div>
              </div>
              <div class="modal-body">
                <div class="container-fluid">
                    <%= render partial: 'partial/loginlinks'%>
                </div>
                <a class="nav-link light sign_up_link" style="padding: 0 16px" href="">Not a member? Sign up now!</a>
              </div>
            </div>

<!--  Email Sign in Content-->
            <div class="modal-content email_sign_in_content">
              <div style="margin: 10px 15px 0px 15px;">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true" >&times;</span>
                </button>
                <div class="header">
                  <p class="title-signup">Welcome back</p>
                  <p class="subtitle-signup">Sign in to access share stories, like articles and leave your thoughts that matters to you.</p>
                </div>
              </div>
              <div class="modal-body">
                <div class="container-fluid">
                    <%= render template: 'devise/sessions/new'%>
                </div>
                <a class="nav-link light sign_in_link" style="padding: 0 16px" href="">Login with other options</a>
                <a class="nav-link light sign_up_link" style="padding: 0 16px" href="">Not a member? Sign up now!</a>
              </div>
            </div>
        </div>
      </div>
<!-- Sign Up & Sign In Modal End -->

      <%= yield %>

      <script>
      $(document).ready(function() {
      	// get current URL path and assign 'active' class
        var pathname = window.location.pathname;
        $('a[href="'+pathname+'"]').parent().addClass('active');
        // assign 'active' class on click
        $('a').click(function(){
          $('li').removeClass("active");
          $(this).parent('li').addClass("active");
        });
      });



      $(document).ready(function(){

// sign up button on navbar
        $(".sign_up_nav").on("click",function(event){
          event.preventDefault();
          $(".email_sign_in_content").hide();
          $(".sign_in_options").hide();
          $(".sign_up_content").show();

          $(".sign_in_link").on('click',function(event){
            event.preventDefault();
            $(".sign_up_content").hide();
            $(".email_sign_in_content").hide();
            $(".sign_in_options").show();
          })

          $(".sign_up_link").on('click',function(event){
            event.preventDefault();
            $(".sign_in_options").hide();
            $(".email_sign_in_content").hide();
            $(".sign_up_content").show();
          })

          $(".email_option_login").on("click",function(event){
            event.preventDefault();
            // console.log("open email login content");
            $(".sign_in_options").hide();
            $(".sign_up_content").hide();
            $(".email_sign_in_content").show();
          })
        })

// login button on navbar
        $(".login_nav").on("click",function(event){
          event.preventDefault();
          $(".email_sign_in_content").hide();
          $(".sign_up_content").hide();
          $(".sign_in_options").show();

          $(".sign_in_link").on('click',function(event){
            event.preventDefault();
            $(".sign_up_content").hide();
            $(".email_sign_in_content").hide();
            $(".sign_in_options").show();
          })

          $(".sign_up_link").on('click',function(event){
            event.preventDefault();
            $(".sign_in_options").hide();
            $(".email_sign_in_content").hide();
            $(".sign_up_content").show();
          })

          $(".email_option_login").on("click",function(event){
            event.preventDefault();
            $(".sign_in_options").hide();
            $(".sign_up_content").hide();
            $(".email_sign_in_content").show();
          })
        })
      })


      </script>


  </body>
</html>
